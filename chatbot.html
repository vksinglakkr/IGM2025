<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>International Gita Mahotsav 2025 — Gita Scholar AI</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Playfair+Display:wght@700&family=Noto+Sans+Devanagari:wght@600&display=swap" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%);
      font-family: 'Inter', sans-serif;
    }
    .saffron { background-color: #FF9933; }
    .white { background-color: #FFFFFF; }
    .green { background-color: #138808; }
    .devanagari { font-family: 'Noto Sans Devanagari', sans-serif; }
    .cinzel { font-family: 'Cinzel', serif; }
    .mandala-bg {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 200 200'%3E%3Ccircle cx='100' cy='100' r='90' fill='none' stroke='%23FF9933' stroke-width='0.5' opacity='0.1'/%3E%3Ccircle cx='100' cy='100' r='70' fill='none' stroke='%23138808' stroke-width='0.5' opacity='0.1'/%3E%3C/svg%3E");
      background-size: 300px;
    }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4 mandala-bg">

  <!-- Tiranga Header -->
  <div class="flex h-3 w-full max-w-4xl">
    <div class="w-1/3 saffron"></div>
    <div class="w-1/3 white"></div>
    <div class="w-1/3 green"></div>
  </div>

  <div class="w-full max-w-4xl bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl overflow-hidden">
    
    <!-- Sacred Header -->
    <div class="bg-gradient-to-r from-saffron to-amber-500 p-6 text-center">
      <h1 class="text-4xl md:text-5xl font-bold cinzel text-white mb-2">International Gita Mahotsav 2025</h1>
      <div class="mt-3 flex flex-col items-center">
        <h2 class="text-2xl font-bold text-white gita-font">Gita Scholar AI</h2>
        <p class="text-lg text-blue-100 devanagari">गीता ज्ञानी एआई</p>
      </div>
    </div>

    <!-- Event Dates in Boxes -->
    <div class="p-6 grid grid-cols-1 md:grid-cols-3 gap-4">
      <!-- Exhibition -->
      <div class="bg-blue-50 border-l-4 border-l-blue-500 rounded-xl p-4 text-center">
        <p class="font-bold text-gray-800">Exhibition</p>
        <p class="text-sm text-gray-700 devanagari">15 नवंबर – 5 दिसंबर 2025</p>
      </div>
      
      <!-- Quiz -->
      <div class="bg-amber-50 border-l-4 border-l-amber-500 rounded-xl p-4 text-center">
        <p class="font-bold text-gray-800">Daily Quiz</p>
        <p class="text-sm text-gray-700 devanagari">4 – 14 नवंबर 2025</p>
      </div>
      
      <!-- Cultural -->
      <div class="bg-green-50 border-l-4 border-l-green-500 rounded-xl p-4 text-center">
        <p class="font-bold text-gray-800">Cultural Programs</p>
        <p class="text-sm text-gray-700 devanagari">24 नवंबर – 1 दिसंबर 2025</p>
      </div>
    </div>

    <!-- Chat Interface -->
    <div class="p-6">
      <!-- Input Area (ABOVE sample questions) -->
      <div class="mb-6">
        <label class="block text-sm font-medium text-gray-700 mb-2">Ask Your Question</label>
        <input 
          id="userInput" 
          class="w-full rounded-lg border border-gray-300 p-3 text-gray-800"
          placeholder="e.g., What is the message of Chapter 2?"
        />
        <div class="flex flex-wrap gap-2 mt-3">
          <button class="langBtn px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition active" data-lang="Hindi">
            हिंदी
          </button>
          <button class="langBtn px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition" data-lang="English">
            English
          </button>
          <button id="voiceBtn" class="flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition">
            <i data-lucide="mic" class="w-4 h-4"></i> Speak
          </button>
          <button id="submitBtn" class="flex items-center justify-center gap-2 bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg transition flex-1">
            <i data-lucide="send" class="w-4 h-4"></i> Send
          </button>
        </div>
      </div>

      <!-- Sample Questions -->
      <div class="mb-6">
        <label class="block text-sm font-medium text-gray-700 mb-2">Or Select a Ready Question</label>
        <div id="sampleQuestions" class="max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-3 space-y-2 bg-gray-50">
          <!-- Questions will be populated by JS -->
        </div>
      </div>

      <!-- Chat Box -->
      <div id="chatBox" class="bg-gray-50 rounded-xl p-4 h-64 overflow-y-auto border border-gray-200">
        <div class="flex mb-3">
          <div class="bg-amber-100 p-2 rounded-lg mr-3">
            <i data-lucide="bot" class="text-amber-700 w-5 h-5"></i>
          </div>
          <div class="text-gray-800">
            Welcome! Ask about Gita, Kurukshetra, or today's program.
          </div>
        </div>
      </div>

      <!-- Return to Main -->
      <div class="mt-4 text-center">
        <a href="index.html" class="text-blue-600 hover:text-blue-800 flex items-center justify-center gap-1">
          <i data-lucide="home" class="w-4 h-4"></i> Return to Main Page
        </a>
      </div>
    </div>

    <!-- Footer -->
    <div class="border-t border-gray-200 p-4">
      <div class="flex flex-wrap justify-center items-center gap-6 mb-3">
        <img src="https://raw.githubusercontent.com/vksinglakkr/IGM2025/main/Images/haryana-logo.jpg" alt="Government of Haryana" class="w-12 h-12 object-contain">
        <img src="https://raw.githubusercontent.com/vksinglakkr/IGM2025/main/Images/kdblogo.png" alt="Kurukshetra Development Board" class="w-12 h-12 object-contain">
        <img src="https://raw.githubusercontent.com/vksinglakkr/IGM2025/main/Images/nic-logo.png" alt="National Informatics Centre" class="w-12 h-12 object-contain">
      </div>
      <p class="text-center text-gray-600 text-sm">
        International Gita Mahotsav 2025 — Designed & Maintained by NIC, Kurukshetra
      </p>
      <p class="text-center text-gray-500 text-xs mt-2">
        Last Updated: <span id="lastModified"></span>
      </p>
    </div>
  </div>

  <script>
    lucide.createIcons();

    // Set last modified date and time
    document.getElementById("lastModified").textContent = new Date(document.lastModified).toLocaleString('en-US', {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
      hour: '2-digit',
      minute: '2-digit',
      second: '2-digit',
      hour12: false
    });

    // Sample questions
    const samples = [
      "What are the three new prosecution laws implemented since 2024?",
      "How have the new laws changed the FIR process?",
      "Are bail provisions modified under the new system?",
      "How are cybercrimes treated under the new prosecution laws?",
      "What changes exist in the evidence collection process?"
    ];

    const container = document.getElementById('sampleQuestions');
    samples.forEach((q, i) => {
      const id = `q${i}`;
      const div = document.createElement('div');
      div.className = 'flex items-start py-1';
      div.innerHTML = `
        <input type="radio" id="${id}" name="sampleQ" value="${q}" class="mt-1.5 text-blue-600 focus:ring-blue-600">
        <label for="${id}" class="ml-2 text-sm text-gray-700 cursor-pointer hover:text-blue-700">${q}</label>
      `;
      container.appendChild(div);
    });

    container.addEventListener('change', e => {
      if (e.target.name === 'sampleQ') {
        document.getElementById('userInput').value = e.target.value;
      }
    });

    // Language selection
    let selectedLanguage = 'Hindi';
    document.querySelectorAll('.langBtn').forEach(btn => {
      btn.addEventListener('click', function() {
        selectedLanguage = this.dataset.lang;
        document.querySelectorAll('.langBtn').forEach(b => b.classList.replace('bg-blue-600', 'bg-gray-600'));
        this.classList.replace('bg-gray-600', 'bg-blue-600');
      });
    });

    // Submit handler
    document.getElementById('submitBtn').addEventListener('click', async () => {
      const question = document.getElementById('userInput').value.trim();
      if (!question) return;

      const chatBox = document.getElementById('chatBox');
      const userMsg = document.createElement('div');
      userMsg.className = 'flex mb-3 justify-end';
      userMsg.innerHTML = `<div class="bg-blue-100 p-2 rounded-lg ml-3 text-gray-800">${question}</div>`;
      chatBox.appendChild(userMsg);
      chatBox.scrollTop = chatBox.scrollHeight;

      document.getElementById('userInput').value = '';

      // Simulate AI response (replace with n8n call)
      setTimeout(() => {
        const aiMsg = document.createElement('div');
        aiMsg.className = 'flex mb-3';
        aiMsg.innerHTML = `
          <div class="bg-amber-100 p-2 rounded-lg mr-3">
            <i data-lucide="bot" class="text-amber-700 w-5 h-5"></i>
          </div>
          <div class="text-gray-800">
            Arjuna received the Gita on the battlefield of Kurukshetra, where Lord Krishna imparted teachings on dharma, karma, and moksha.
          </div>
        `;
        chatBox.appendChild(aiMsg);
        lucide.createIcons();
        chatBox.scrollTop = chatBox.scrollHeight;
      }, 1000);
    });

    // Voice input
    let recognition;
    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      recognition = new SpeechRecognition();
      recognition.continuous = false;
      recognition.interimResults = false;
      recognition.lang = 'hi-IN';

      recognition.onresult = (event) => {
        const transcript = event.results[0][0].transcript;
        document.getElementById('userInput').value = transcript;
      };
    }

    document.getElementById('voiceBtn').addEventListener('click', () => {
      if (recognition) recognition.start();
    });
  </script>
</body>
</html>
